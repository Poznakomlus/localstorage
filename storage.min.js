(function(e){var d=function(a,b){var c;if("undefined"==typeof Storage)throw Error("_storage: Web Storage no support");d.prototype.instance?c=d.prototype.instance:(c=Object.create(d.prototype),d.prototype.instance=c,c._init());if(1==arguments.length)return c.get(a);2==arguments.length&&c.set(a,b);return c};d.prototype={_list:{},_init:function(){e.addEventListener("storage",this._storageEvent.bind(this))},subscribe:function(a,b){void 0!=a&&"function"==typeof b&&(this._list.hasOwnProperty(a)||(this._list[a]=
[]),this._list[a].push(b));return this},unSubscribe:function(a,b){this._list.hasOwnProperty(a)&&this._list[a].length&&("function"==typeof b?this._list[a].some(function(a,d,e){if(a==b)return e.splice(d,1),!0}):delete this._list[a]);return this},_storageEvent:function(a){if(this._list.hasOwnProperty(a.key)){var b=this;this._list[a.key].forEach(function(c){c(b.get(a.key),a)})}},get:function(a){a=localStorage.getItem(a);var b={0:function(){return null},n:function(a){return Number(a)},b:function(a){return Boolean(a)},
d:function(a){return new Date(a)},f:function(a){return Function("return "+a)()}};return a&&/^:(0|d|n|b|f):/.test(a)?b[a.slice(1,2)](a.slice(3)):JSON.parse(a)},set:function(a,b){var c={Null:"0",Date:"d",Number:"n",Boolean:"b",Function:"f"},d=Object.prototype.toString.call(b).split(/\s|]/)[1];if(c.hasOwnProperty(d))switch(c[d]){case "d":case "f":b=":"+c[d]+":"+b.toString();break;default:b=":"+c[d]+":"+JSON.stringify(b)}else b=JSON.stringify(b);localStorage.setItem(a,b);return this},remove:function(a){localStorage.removeItem(a);
return this},clear:function(){localStorage.clear();return this}};e._storage=d})(window);
